{**
 * @param bool        	  				$reviewMode         Review mode is active
 * @param bool        	  				$playMode           Play mode is active
 * @param Nette\Forms\Controls\TextArea $formQuestion		Question data
 *}

{block content}
	{var answered = isset($question->entity->answer->text) && $question->entity->answer->text != $question->prefill}
	{var value = $answered ? $question->entity->answer->text : $question->prefill}
	
	<div class="row">
		<div class="columns large-6">
		
		{if $playMode}
			{input $formQuestion}
			<p n:ifcontent>{inputError $formQuestion}</p>
		{/if}
		
		{if $reviewMode}
			{if $answered}
				<textarea id="question-{$question->id}-viewer" class="highlight-{$question->input} readonly">{$question->entity->answer->text}</textarea>
			{else}
				{include 'unanswered.latte'}
			{/if}
		{/if}
		
		</div>
		<div class="columns large-6">
			{var codePreview = isset($question->entity->answer->id) ? 'turtle-blank' : 'na'}
			<iframe class="turtle-preview" {if isset($question->entity->answer->id)}data-answer-id={$question->entity->answer->id}{/if} src="/code-preview/{$codePreview}"></iframe>
		</div>
	</div>

	<button class="answerPreview" type="highlight-{$question->input}">
		&#9654; {_messages.solution.runCode}
	</button>
	
	<button class="answerPreview" type="highlight-{$question->input}-na">
		&#9654; {_messages.solution.runCodeWithoutAnimation}
	</button>

	{include 'prefillReview.latte', question => $question}
	
{/block}
